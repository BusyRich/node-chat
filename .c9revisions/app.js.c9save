{"ts":1350174699096,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"var express = require('express');\nvar app = express();\nvar server = require('http').createServer(app);\nvar io = require('socket.io').listen(server);\nvar archive = require(__dirname + '/archive.js');\n\nserver.listen(80);\n\napp.use(\"/\", express.static(__dirname + '/public'));\n\napp.get('/archive', function(req, res) {\n  archive.get(function(error, data) {\n    if(error === null) {\n      res.send(data);\n    } else {\n      res.send(error);\n    }\n  });\n});\n\nio.sockets.on('connection', function (socket) {\n  socket.on('msg', function (data) {\n    archive.add(data, function(err) {\n      if(err === null) {\n        io.sockets.emit('new', data);\n      } else {\n        console.log(err);\n        socket.emit(JSON.stringify({\n          name : \"SYSTEM\",\n          msg : \"Error sending message.\"\n        }));\n      }\n    });\n  });\n});"]],"start1":0,"start2":0,"length1":0,"length2":823}]],"length":823}
{"contributors":[],"silentsave":false,"ts":1350174746114,"patch":[[{"diffs":[[0,"r);\n"],[-1,"var archive = require(__dirname + '/archive.js');\n\nserver.listen(80);\n\napp.use(\"/\", express.static(__dirname + '/public'));\n\napp.get('/archive', function(req, res) {\n  archive.get(function(error, data) {\n    if(error === null) {\n      res.send(data);\n    } else {\n      res.send(error);\n    }\n  });\n});\n\nio.sockets.on('connection', function (socket) {\n  socket.on('msg', function (data) {\n    archive.add(data, function(err) {\n      if(err === null) {\n        io.sockets.emit('new', data);\n      } else {\n        console.log(err);\n        socket.emit(JSON.stringify({\n          name : \"SYSTEM\",\n          msg : \"Error sending message.\"\n        }));\n      }\n    }"],[1,"\nserver.listen(process.env.PORT);\n\napp.use(\"/\", express.static(__dirname + '/public'));\n\nio.sockets.on('connection', function (socket) {\n  socket.on('msg', function (data) {\n    io.sockets.emit('new', data"],[0,");\n "]],"start1":145,"start2":145,"length1":670,"length2":213}]],"length":366,"saved":false}
{"contributors":[],"silentsave":false,"ts":1350175119972,"patch":[[{"diffs":[[0,"server);"],[1,"\nvar archive = require(__dirname + '/archive.js');"],[0,"\n\nserver"]],"start1":140,"start2":140,"length1":16,"length2":66},{"diffs":[[0,");\n\n"],[-1,"io.sockets.on('connection', function (socket) {\n  socket.on('msg', function (data) {\n    io.sockets.emit('new', data"],[1,"app.get('/archive', function(req, res) {\n  archive.get(function(error, data) {\n    if(error === null) {\n      res.send(data);\n    } else {\n      res.send(error);\n    }\n  });\n});\n\nio.sockets.on('connection', function (socket) {\n  socket.on('msg', function (data) {\n    archive.add(data, function(err) {\n      if(err === null) {\n        io.sockets.emit('new', data);\n      } else {\n        console.log(err);\n        socket.emit(JSON.stringify({\n          name : \"SYSTEM\",\n          msg : \"Error sending message.\"\n        }));\n      }\n    }"],[0,");\n "]],"start1":284,"start2":284,"length1":124,"length2":545}]],"length":837,"saved":false}
